<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div>
      <label for="username">Nombre de usuario:</label>
      <input type="text" id="username" formControlName="username">
      <div *ngIf="f['username'].touched && f['username'].errors">
        <span *ngIf="f['username'].errors['required']">El nombre de usuario es requerido</span>
      </div>
    </div>
    <div>
      <label for="password">Contraseña:</label>
      <input type="password" id="password" formControlName="password">
      <div *ngIf="f['password'].touched && f['password'].errors">
        <span *ngIf="f['password'].errors['required']">La contraseña es requerida</span>
      </div>
    </div>
    <div>
        <label for="password_repeat">Repetir Contraseña:</label>
        <input type="password" id="password_repeat" formControlName="passwordRepeat">
        <div *ngIf="f['passwordRepeat'].touched && f['passwordRepeat'].errors">
          <span *ngIf="f['passwordRepeat'].errors['required']">Debe repetir la contraseña</span>
        </div>
    </div>
    <div>
      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" formControlName="nombre">
      <div *ngIf="f['nombre'].touched && f['nombre'].errors">
        <span *ngIf="f['nombre'].errors['required']">El nombre es requerido</span>
      </div>
    </div>
    <div>
      <label for="apellido">Apellido:</label>
      <input type="text" id="apellido" formControlName="apellido">
      <div *ngIf="f['apellido'].touched && f['apellido'].errors">
        <span *ngIf="f['apellido'].errors['required']">El apellido es requerido</span>
      </div>
    </div>
    <div>
      <label for="email">Correo electrónico:</label>
      <input type="email" id="email" formControlName="email">
      <div *ngIf="f['email'].touched && f['email'].errors">
        <span *ngIf="f['email'].errors['required']">El email es requerido</span>
        <span *ngIf="f['email'].errors['email']">Email inválido</span>
      </div>
    </div>
    <div>
      <label for="dni">DNI:</label>
      <input type="text" id="dni" formControlName="dni">
      <div *ngIf="f['dni'].touched && f['dni'].errors">
        <span *ngIf="f['dni'].errors['required']">El DNI es requerido</span>
      </div>
    </div>
    <div>
      <label for="fecha_nacimiento">Fecha de nacimiento:</label>
      <input type="date" id="fecha_nacimiento" formControlName="fecha_nacimiento">
      <div *ngIf="f['fecha_nacimiento'].touched && f['fecha_nacimiento'].errors">
        <span *ngIf="f['fecha_nacimiento'].errors['required']">La fecha de nacimiento es requerida</span>
      </div>
    </div>
    <button type="submit" [disabled]="!registrationForm.valid">Registrarse</button>
</form>

<div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
</div>

<p>Si ya tienes una cuenta <a routerLink="/login">Inicia sesión</a></p>